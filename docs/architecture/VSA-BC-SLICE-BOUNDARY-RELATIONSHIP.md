# VSA - å¢ƒç•Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ»ã‚¹ãƒ©ã‚¤ã‚¹ãƒ»ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ã®é–¢ä¿‚

## ğŸ“ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®éšå±¤æ§‹é€ 

### æ­£ã—ã„ç†è§£

```
DDDå¢ƒç•Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼ˆBCï¼‰
  â””â”€â”€ å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ï¼ˆVSAï¼‰
      â””â”€â”€ æ©Ÿèƒ½ï¼ˆFeatureï¼‰
          â””â”€â”€ å±¤ï¼ˆLayers: UI, Application, Domainï¼‰
```

**é‡è¦:** å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ã¯å¢ƒç•Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå†…ã«å­˜åœ¨ã—ã¾ã™ã€‚

---

## ğŸ—ï¸ å®Ÿéš›ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

### ç¾åœ¨ã®æ§‹é€ 

```
src/
â”œâ”€â”€ PurchaseManagement/                    â† â˜… å¢ƒç•Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼ˆBCï¼‰
â”‚   â”œâ”€â”€ Features/                          â† å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ç¾¤
â”‚   â”‚   â”œâ”€â”€ ApprovePurchaseRequest/        â† ã‚¹ãƒ©ã‚¤ã‚¹1ï¼ˆæ‰¿èªæ©Ÿèƒ½ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ Application/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ApprovePurchaseRequestHandler.cs
â”‚   â”‚   â”‚   â””â”€â”€ (UIå±¤ãªã— - CQRSã‚³ãƒãƒ³ãƒ‰)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ GetPurchaseRequestById/        â† ã‚¹ãƒ©ã‚¤ã‚¹2ï¼ˆè©³ç´°è¡¨ç¤ºæ©Ÿèƒ½ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ Application/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ GetPurchaseRequestByIdHandler.cs
â”‚   â”‚   â”‚   â””â”€â”€ UI/
â”‚   â”‚   â”‚       â””â”€â”€ PurchaseRequestDetail.razor
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ SubmitPurchaseRequest/         â† ã‚¹ãƒ©ã‚¤ã‚¹3ï¼ˆæå‡ºæ©Ÿèƒ½ï¼‰
â”‚   â”‚       â”œâ”€â”€ Application/
â”‚   â”‚       â””â”€â”€ UI/
â”‚   â”‚
â”‚   â””â”€â”€ Shared/                            â† â˜… BCå†…ã®å…±æœ‰ã‚³ãƒ¼ãƒ‰
â”‚       â”œâ”€â”€ Domain/                        â† BCå†…ã®å…±æœ‰ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«
â”‚       â”‚   â””â”€â”€ PurchaseRequests/
â”‚       â”‚       â”œâ”€â”€ PurchaseRequest.cs     â† ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆBCå›ºæœ‰ï¼‰
â”‚       â”‚       â”œâ”€â”€ ApprovalStep.cs        â† ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆBCå›ºæœ‰ï¼‰
â”‚       â”‚       â””â”€â”€ Boundaries/            â† â˜… ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«
â”‚       â”‚           â”œâ”€â”€ ApprovalBoundaryService.cs
â”‚       â”‚           â”œâ”€â”€ UIMetadata.cs
â”‚       â”‚           â””â”€â”€ ...
â”‚       â”‚
â”‚       â””â”€â”€ Application/                   â† BCå†…ã®å…±æœ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤
â”‚
â”œâ”€â”€ ProductCatalog/                        â† åˆ¥ã®å¢ƒç•Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ Shared/                                â† â˜… BCæ¨ªæ–­ã®å…±æœ‰ã‚³ãƒ¼ãƒ‰
    â”œâ”€â”€ Kernel/                            â† å…¨BCå…±é€šã®åŸºç¤
    â”‚   â”œâ”€â”€ DomainError.cs
    â”‚   â”œâ”€â”€ Result.cs
    â”‚   â””â”€â”€ Money.cs
    â””â”€â”€ Domain/
```

---

## ğŸ¯ ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã®é…ç½®ç†ç”±

### âŒ èª¤è§£: ã€ŒSharedã ã‹ã‚‰å…¨BCå…±é€šã€

**é–“é•ã£ãŸè§£é‡ˆ:**
```
Shared/ â† å…¨BCå…±é€šï¼Ÿ
  â””â”€â”€ Domain/
      â””â”€â”€ Boundaries/ â† å…¨BCã§ä½¿ãˆã‚‹ï¼Ÿ
```

### âœ… æ­£è§£: ã€ŒBCå†…ã®Shared = BCå†…å…±æœ‰ã€

**æ­£ã—ã„è§£é‡ˆ:**
```
PurchaseManagement/              â† BCå¢ƒç•Œ
  â””â”€â”€ Shared/                    â† ã“ã®BCå†…ã§ã®ã¿å…±æœ‰
      â””â”€â”€ Domain/
          â””â”€â”€ PurchaseRequests/
              â””â”€â”€ Boundaries/    â† PurchaseManagement BCå†…ã§ã®ã¿æœ‰åŠ¹
```

---

## ğŸ“Š 3ç¨®é¡ã®ã€ŒSharedã€ã®åŒºåˆ¥

### 1. **BCæ¨ªæ–­Sharedï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«ï¼‰**

```
src/Shared/Kernel/               â† å…¨BCå…±é€š
  â”œâ”€â”€ DomainError.cs             â† ã©ã®BCã§ã‚‚ä½¿ãˆã‚‹
  â”œâ”€â”€ Result.cs
  â””â”€â”€ Money.cs
```

**ç‰¹å¾´:**
- å…¨å¢ƒç•Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§å…±æœ‰
- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å«ã¾ãªã„ï¼ˆæŠ€è¡“çš„ãªåŸºç›¤ã®ã¿ï¼‰
- ä¾‹: Resultå‹, Moneyå‹, DomainError

**ä½¿ç”¨ä¾‹:**
```csharp
// PurchaseManagement BCã§ä½¿ç”¨
using Shared.Kernel;
var result = Result<PurchaseRequest>.Success(request);

// ProductCatalog BCã§ã‚‚ä½¿ç”¨
using Shared.Kernel;
var result = Result<Product>.Success(product);
```

---

### 2. **BCå†…Sharedï¼ˆBCãƒ•ã‚©ãƒ«ãƒ€å†…ï¼‰**

```
src/PurchaseManagement/Shared/   â† PurchaseManagement BCå†…ã®ã¿å…±æœ‰
  â”œâ”€â”€ Domain/
  â”‚   â””â”€â”€ PurchaseRequests/
  â”‚       â”œâ”€â”€ PurchaseRequest.cs        â† BCå›ºæœ‰ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
  â”‚       â””â”€â”€ Boundaries/               â† BCå›ºæœ‰ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹
  â”‚           â””â”€â”€ ApprovalBoundaryService.cs
  â””â”€â”€ Application/
      â””â”€â”€ CurrentUserService.cs
```

**ç‰¹å¾´:**
- **ã“ã®BCå†…ã®è¤‡æ•°ã‚¹ãƒ©ã‚¤ã‚¹ã§å…±æœ‰**
- BCå›ºæœ‰ã®ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã‚’å«ã‚€
- ä»–ã®BCã‹ã‚‰ã¯å‚ç…§ã§ããªã„ï¼ˆå‚ç…§ã™ã¹ãã§ãªã„ï¼‰

**ä½¿ç”¨ä¾‹:**
```csharp
// âœ… PurchaseManagement BCå†…ã®ã‚¹ãƒ©ã‚¤ã‚¹ã‹ã‚‰å‚ç…§ï¼ˆOKï¼‰
namespace ApprovePurchaseRequest.Application;
using PurchaseManagement.Shared.Domain.PurchaseRequests.Boundaries;

public class ApprovePurchaseRequestHandler
{
    private readonly IApprovalBoundary _approvalBoundary; // OK
}

// âŒ ProductCatalog BCã‹ã‚‰å‚ç…§ï¼ˆNGï¼‰
namespace ProductCatalog.Features.CreateProduct;
using PurchaseManagement.Shared.Domain.PurchaseRequests.Boundaries; // NG!
```

---

### 3. **ã‚¹ãƒ©ã‚¤ã‚¹å†…å…±æœ‰ï¼ˆFeatureå†…ï¼‰**

```
src/PurchaseManagement/Features/GetPurchaseRequestById/
  â”œâ”€â”€ Application/
  â”‚   â””â”€â”€ GetPurchaseRequestByIdHandler.cs
  â””â”€â”€ UI/
      â”œâ”€â”€ PurchaseRequestDetail.razor
      â””â”€â”€ ApprovalBoundaryExtensions.cs  â† ã“ã®ã‚¹ãƒ©ã‚¤ã‚¹å†…ã®ã¿å…±æœ‰
```

**ç‰¹å¾´:**
- 1ã¤ã®ã‚¹ãƒ©ã‚¤ã‚¹å†…ã§ã®ã¿å…±æœ‰
- æ©Ÿèƒ½å›ºæœ‰ã®ãƒ­ã‚¸ãƒƒã‚¯
- ä»–ã®ã‚¹ãƒ©ã‚¤ã‚¹ã‹ã‚‰ã¯å‚ç…§ã—ãªã„

---

## ğŸ” ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ãŒBCå†…Sharedã§ã‚ã‚‹ç†ç”±

### ç†ç”±1: **è¤‡æ•°ã‚¹ãƒ©ã‚¤ã‚¹ã§å…±æœ‰ã•ã‚Œã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜**

ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ã¯ä»¥ä¸‹ã®ã‚¹ãƒ©ã‚¤ã‚¹ã‹ã‚‰åˆ©ç”¨ã•ã‚Œã¾ã™:

```
PurchaseManagement/Features/
â”œâ”€â”€ ApprovePurchaseRequest/          â† ApprovalBoundary ã‚’ä½¿ç”¨
â”œâ”€â”€ RejectPurchaseRequest/           â† ApprovalBoundary ã‚’ä½¿ç”¨
â”œâ”€â”€ GetPurchaseRequestById/          â† ApprovalBoundary ã‚’ä½¿ç”¨
â”œâ”€â”€ CancelPurchaseRequest/           â† ApprovalBoundary ã‚’ä½¿ç”¨
â”œâ”€â”€ SubmitPurchaseRequest/           â† SubmissionBoundary ã‚’ä½¿ç”¨
â””â”€â”€ GetPurchaseRequests/             â† FilteringBoundary ã‚’ä½¿ç”¨
```

**è¤‡æ•°ã‚¹ãƒ©ã‚¤ã‚¹ã§å…±æœ‰** â†’ `Features/` å¤–ã«é…ç½® â†’ `Shared/Domain/`

---

### ç†ç”±2: **BCå›ºæœ‰ã®ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã‚’å«ã‚€**

```csharp
// ApprovalBoundaryService.cs
public class ApprovalBoundaryService : IApprovalBoundary
{
    public ApprovalEligibility CheckEligibility(
        PurchaseRequest request,  // â† PurchaseManagement BCå›ºæœ‰
        Guid currentUserId)
    {
        // PurchaseManagement BCã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ«
        if (request.Status == PurchaseRequestStatus.PendingFirstApproval)
        {
            // 1æ¬¡æ‰¿èªãƒ­ã‚¸ãƒƒã‚¯ï¼ˆBCå›ºæœ‰ï¼‰
        }
    }
}
```

**BCå›ºæœ‰ã®ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜** â†’ ä»–BCã«ã¯é©ç”¨ã§ããªã„ â†’ `PurchaseManagement/Shared/`

---

### ç†ç”±3: **BCå›ºæœ‰ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¸ã®ä¾å­˜**

```csharp
// ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ã¯ PurchaseRequest ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«ä¾å­˜
public interface IApprovalBoundary
{
    ApprovalContext GetContext(
        PurchaseRequest request,  // â† BCå›ºæœ‰ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
        Guid currentUserId
    );
}
```

**ä¾å­˜é–¢ä¿‚:**
```
Boundaries/
  â†“ ä¾å­˜
PurchaseRequest, ApprovalStep  â† BCå›ºæœ‰ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
```

**BCå›ºæœ‰ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«ä¾å­˜** â†’ åŒã˜BCå†…ã«é…ç½® â†’ `PurchaseManagement/Shared/Domain/`

---

## ğŸ“ VSAã«ãŠã‘ã‚‹é…ç½®åŸå‰‡

### é…ç½®ãƒ«ãƒ¼ãƒ«

| ã‚³ãƒ¼ãƒ‰ã®ç¨®é¡ | å…±æœ‰ç¯„å›² | é…ç½®å ´æ‰€ | ä¾‹ |
|------------|---------|---------|---|
| **å…¨BCå…±é€šåŸºç›¤** | å…¨BC | `src/Shared/Kernel/` | Result, Money, DomainError |
| **BCå†…å…±æœ‰ãƒ‰ãƒ¡ã‚¤ãƒ³** | BCå†…ã®è¤‡æ•°ã‚¹ãƒ©ã‚¤ã‚¹ | `src/{BC}/Shared/Domain/` | **Boundaries**, PurchaseRequest |
| **BCå†…å…±æœ‰ã‚¢ãƒ—ãƒª** | BCå†…ã®è¤‡æ•°ã‚¹ãƒ©ã‚¤ã‚¹ | `src/{BC}/Shared/Application/` | CurrentUserService |
| **ã‚¹ãƒ©ã‚¤ã‚¹å›ºæœ‰** | 1ã‚¹ãƒ©ã‚¤ã‚¹ã®ã¿ | `src/{BC}/Features/{æ©Ÿèƒ½}/` | ApprovePurchaseRequestHandler |

### ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ã®å ´åˆ

```
ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ = BCå†…ã®è¤‡æ•°ã‚¹ãƒ©ã‚¤ã‚¹ã§å…±æœ‰ã•ã‚Œã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜
  â†“
é…ç½®å ´æ‰€ = src/PurchaseManagement/Shared/Domain/PurchaseRequests/Boundaries/
```

---

## ğŸš« ã‚ˆãã‚ã‚‹èª¤è§£ã¨æ­£ã—ã„ç†è§£

### èª¤è§£1: ã€ŒShared = å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…±é€šã€

**âŒ èª¤è§£:**
```
Shared/ ã®ä¸­èº«ã¯ã©ã“ã‹ã‚‰ã§ã‚‚å‚ç…§ã§ãã‚‹å…±é€šã‚³ãƒ¼ãƒ‰
```

**âœ… æ­£è§£:**
```
- src/Shared/           â† å…¨BCå…±é€š
- src/{BC}/Shared/      â† ãã®BCå†…ã®ã¿å…±é€š
```

---

### èª¤è§£2: ã€Œãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ã¯ã‚¤ãƒ³ãƒ•ãƒ©å±¤ã€

**âŒ èª¤è§£:**
```
ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ = UIã¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å¢ƒç•Œ = ã‚¤ãƒ³ãƒ•ãƒ©å±¤ï¼Ÿ
```

**âœ… æ­£è§£:**
```
ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ = ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã®ã‚«ãƒ—ã‚»ãƒ«åŒ– = ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤
- ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã®åˆ¤å®šï¼ˆæ‰¿èªå¯å¦ï¼‰
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é·ç§»ã®åˆ¶å¾¡
- UIãƒãƒªã‚·ãƒ¼ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ï¼‰
```

---

### èª¤è§£3: ã€Œã‚¹ãƒ©ã‚¤ã‚¹ã¯å®Œå…¨ã«ç‹¬ç«‹ã€

**âŒ èª¤è§£:**
```
å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ = å®Œå…¨ã«ç‹¬ç«‹ = å…±æœ‰ã‚³ãƒ¼ãƒ‰ã‚¼ãƒ­
```

**âœ… æ­£è§£:**
```
å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ = æ©Ÿèƒ½ã”ã¨ã«å‚ç›´ã«åˆ‡ã‚‹
- ã‚¹ãƒ©ã‚¤ã‚¹å›ºæœ‰ã‚³ãƒ¼ãƒ‰: Features/{æ©Ÿèƒ½}/
- BCå†…å…±æœ‰ã‚³ãƒ¼ãƒ‰: Shared/Domain/, Shared/Application/
- å…¨BCå…±é€šã‚³ãƒ¼ãƒ‰: src/Shared/Kernel/
```

---

## ğŸ›ï¸ DDDå¢ƒç•Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨VSAã®çµ±åˆ

### ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DDDå¢ƒç•Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ: PurchaseManagement                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹1: ApprovePurchaseRequest          â”‚     â”‚
â”‚  â”‚   â”œâ”€â”€ Application/                             â”‚     â”‚
â”‚  â”‚   â”‚   â””â”€â”€ ApprovePurchaseRequestHandler        â”‚     â”‚
â”‚  â”‚   â””â”€â”€ (UIå±¤ãªã—)                               â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹2: GetPurchaseRequestById          â”‚     â”‚
â”‚  â”‚   â”œâ”€â”€ Application/                             â”‚     â”‚
â”‚  â”‚   â”œâ”€â”€ UI/                                      â”‚     â”‚
â”‚  â”‚   â””â”€â”€ (ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ãªã— - Shared/Domain ã‚’ä½¿ç”¨) â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ BCå†…å…±æœ‰: Shared/Domain/                       â”‚     â”‚
â”‚  â”‚   â”œâ”€â”€ PurchaseRequest (ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£)           â”‚     â”‚
â”‚  â”‚   â””â”€â”€ Boundaries/ (ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹)          â”‚     â”‚ â† â˜…ã“ã“
â”‚  â”‚       â”œâ”€â”€ ApprovalBoundaryService              â”‚     â”‚
â”‚  â”‚       â””â”€â”€ UIMetadata                           â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ã¾ã¨ã‚

### ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã®é…ç½®

âœ… **é…ç½®:** `src/PurchaseManagement/Shared/Domain/PurchaseRequests/Boundaries/`

âœ… **ç†ç”±:**
1. **BCå†…ã®è¤‡æ•°ã‚¹ãƒ©ã‚¤ã‚¹ã§å…±æœ‰**ï¼ˆå…¨BCã§ã¯ãªã„ï¼‰
2. **BCå›ºæœ‰ã®ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã‚’å«ã‚€**
3. **BCå›ºæœ‰ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«ä¾å­˜**

âœ… **ã‚¹ã‚³ãƒ¼ãƒ—:**
- PurchaseManagement BCå†…ã§ã®ã¿æœ‰åŠ¹
- ProductCatalog BCãªã©ä»–ã®BCã‹ã‚‰ã¯å‚ç…§ã—ãªã„
- BCå¢ƒç•Œã‚’è¶ŠãˆãŸå…±æœ‰ã¯ `src/Shared/Kernel/` ã®ã¿

âœ… **VSAã¨ã®é–¢ä¿‚:**
```
å¢ƒç•Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼ˆBCï¼‰
  â”œâ”€â”€ å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ï¼ˆFeatures/ï¼‰     â† æ©Ÿèƒ½ã”ã¨ã«å‚ç›´ã«åˆ‡ã‚‹
  â””â”€â”€ BCå†…å…±æœ‰ï¼ˆShared/Domain/ï¼‰    â† è¤‡æ•°ã‚¹ãƒ©ã‚¤ã‚¹ã§å…±æœ‰
      â””â”€â”€ Boundaries/                â† ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ã¯ã“ã“
```

---

## ğŸ“ è¨­è¨ˆåŸå‰‡

### Sharedã®3å±¤æ§‹é€ ã‚’ç†è§£ã™ã‚‹

1. **ã‚°ãƒ­ãƒ¼ãƒãƒ«Shared** (`src/Shared/`)
   - å…¨BCå…±é€š
   - ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãªã—

2. **BCå†…Shared** (`src/{BC}/Shared/`)
   - BCå†…ã®è¤‡æ•°ã‚¹ãƒ©ã‚¤ã‚¹ã§å…±æœ‰
   - BCå›ºæœ‰ã®ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã‚ã‚Š
   - **ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ã¯ã“ã“** â† â˜…

3. **ã‚¹ãƒ©ã‚¤ã‚¹å†…Shared** (`src/{BC}/Features/{æ©Ÿèƒ½}/`)
   - 1ã‚¹ãƒ©ã‚¤ã‚¹å†…ã§ã®ã¿å…±æœ‰
   - æ©Ÿèƒ½å›ºæœ‰ã®ãƒ­ã‚¸ãƒƒã‚¯

### VSAã®æœ¬è³ª

> **å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ = æ©Ÿèƒ½ã”ã¨ã«å‚ç›´ã«åˆ‡ã‚‹**
>
> ã—ã‹ã—ã€BCå†…ã§è¤‡æ•°ã‚¹ãƒ©ã‚¤ã‚¹ãŒå…±æœ‰ã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ï¼ˆã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹ï¼‰ã¯
> `Shared/Domain/` ã«é…ç½®ã™ã‚‹ã€‚
>
> ã“ã‚Œã«ã‚ˆã‚ŠDRYåŸå‰‡ã‚’å®ˆã‚Šã¤ã¤ã€æ©Ÿèƒ½ã®ç‹¬ç«‹æ€§ã‚‚ä¿ã¤ã€‚
