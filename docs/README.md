# ドキュメント構成ガイド

このフォルダには、プロジェクトのアーキテクチャドキュメントが体系的に整理されています。

---

## 📂 フォルダ構造

```
docs/
├── README.md                      # このファイル（ドキュメント構成ガイド）
│
├── blazor-guide-package/          # 🎯 メインドキュメント
│   ├── BLAZOR_ARCHITECTURE_GUIDE_COMPLETE.md  # 完全版（全章統合）
│   └── docs/                      # 章別ドキュメント（00-19章）
│       ├── 00_README.md           # 目次と推奨される読み方
│       ├── 01-19_*.md             # 各章（アーキテクチャ、パターン、実装ガイド）
│       └── CHANGELOG.md           # ドキュメント変更履歴
│
├── architecture/                  # 📐 アーキテクチャ設計文書
│   ├── VSA-STRICT-RULES.md        # VSA構造の厳格ルール
│   ├── cross-cutting-concerns.md  # 横断的関心事の詳細設計
│   └── STATE-MANAGEMENT-LAYERS.md # 状態管理の2層モデル
│
├── ai-instructions/               # 🤖 AI実装ガイド
│   ├── README.md                  # AI向け実装指示の概要
│   └── NO-CLEAN-ARCHITECTURE.md   # Clean Architectureバイアス克服
│
└── patterns/                      # 📋 設計パターン集（将来拡張用）
    ├── REST-API-DESIGN-GUIDE.md   # REST API設計ガイド
    └── API-CLIENT-CONTRACT.md     # APIクライアント契約
```

---

## 🎯 読者別ガイド

### 初めて読む方
1. **[blazor-guide-package/docs/00_README.md](blazor-guide-package/docs/00_README.md)** ← まずはここから
2. 読者別の推奨パスに従って学習

### 3層アーキテクチャ経験者（WPF/WinForms）
1. **[18_3層アーキテクチャからの移行ガイド](blazor-guide-package/docs/18_3層アーキテクチャからの移行ガイド.md)** ← 最短パス
2. 既知の概念から新しいパターンへ段階的に学習

### AI実装を始める方
1. **[ai-instructions/README.md](ai-instructions/README.md)** - AI向け実装指示
2. **[19_AIへの実装ガイド](blazor-guide-package/docs/19_AIへの実装ガイド.md)** - パターン選択とチェックリスト

### アーキテクチャ設計者
1. **[architecture/VSA-STRICT-RULES.md](architecture/VSA-STRICT-RULES.md)** - VSA構造の原則
2. **[architecture/cross-cutting-concerns.md](architecture/cross-cutting-concerns.md)** - 横断的関心事
3. **[03_アーキテクチャ概要](blazor-guide-package/docs/03_アーキテクチャ概要.md)** - 設計原則

---

## 📚 各フォルダの役割

### 1. blazor-guide-package/
**役割**: プロジェクトのメインドキュメント（完全なアーキテクチャガイド）

**対象読者**:
- 開発者全員（必読）
- 3層アーキテクチャ経験者
- Blazor初心者

**内容**:
- アーキテクチャ設計原則（VSA）
- 各層の詳細設計（UI/Application/Domain/Infrastructure）
- 実装パターンカタログ
- テスト戦略
- ベストプラクティス

**更新ポリシー**:
- ✅ プロジェクトの標準的な実装パターンを追加した場合は更新
- ✅ アーキテクチャ変更時は必ず更新
- ❌ 実験的な機能は記載しない

---

### 2. architecture/
**役割**: アーキテクチャ設計の詳細仕様書

**対象読者**:
- アーキテクト
- 上級開発者
- コードレビュアー

**内容**:
- VSAの厳格ルール（絶対禁止事項）
- 横断的関心事の実装詳細
- 状態管理の設計パターン

**更新ポリシー**:
- ✅ アーキテクチャの基本方針変更時に更新
- ✅ 新しい横断的関心事を追加した場合に更新
- ❌ 実装詳細のみの変更では更新不要

**参照関係**:
- `cross-cutting-concerns.md` は Blazorガイド20章として参照される
- Blazorガイドから分離して管理（長大なため）

---

### 3. ai-instructions/
**役割**: AI（Claude/ChatGPT等）が正しく実装を生成するためのガイド

**対象読者**:
- AIツールを使用する開発者
- AI自身（プロンプトとして使用）

**内容**:
- AI学習データのバイアス対策
- VSA構造の強制ルール
- 禁止パターンの明示
- 実装テンプレート

**更新ポリシー**:
- ✅ AIが誤った実装を繰り返す場合に追加
- ✅ 新しい禁止パターンを発見した場合に追加
- ❌ Blazorガイドと内容が重複する場合は参照のみ

---

### 4. patterns/
**役割**: プロジェクト横断の設計パターン集（将来拡張用）

**対象読者**:
- APIを公開する場合の開発者
- フロントエンド/バックエンド連携担当者

**内容**:
- REST API設計ガイドライン
- APIクライアント契約パターン

**現在の状態**:
- ⚠️ 現在のプロジェクトではREST APIを公開していない
- 📦 将来の拡張のために準備されたドキュメント

**更新ポリシー**:
- ✅ REST API公開時に参照・更新
- ❌ 使用しない場合は更新不要

---

## 🚫 ドキュメント管理ポリシー

### ✅ 追加してよいドキュメント

1. **永続的な設計文書**
   - アーキテクチャ原則
   - 実装パターン
   - 設計ガイドライン

2. **適切なフォルダに分類可能なもの**
   - blazor-guide-package/ の新しい章
   - architecture/ の新しい設計仕様
   - patterns/ の新しいパターン

3. **複数の開発者が参照するもの**
   - チーム全体の共通知識
   - プロジェクト標準

### ❌ 追加してはいけないドキュメント

1. **一時的な作業記録**
   - 移行計画・進捗記録 → コミットメッセージで管理
   - 作業サマリー → CHANGELOG.mdに統合
   - タスクリスト → GitHubのIssue/Project管理

2. **個人的なメモ**
   - 調査メモ → 個人のローカル環境で管理
   - TODOリスト → コード内のコメントまたはIssue

3. **バージョン管理不要なもの**
   - 自動生成されるドキュメント（例外: BLAZOR_ARCHITECTURE_GUIDE_COMPLETE.md）
   - ビルド成果物

4. **フォルダ分類が不明確なもの**
   - 新しいカテゴリのドキュメントは、まずREADME.mdに分類方針を追記

---

## 📝 ドキュメント作成ガイドライン

### 新しいドキュメントを追加する前のチェックリスト

- [ ] このドキュメントは永続的に必要か？（一時的なメモではないか）
- [ ] 既存のドキュメントに統合できないか？
- [ ] 適切なフォルダに分類できるか？
- [ ] 複数の開発者が参照するか？
- [ ] docs/README.mdの分類に従っているか？

### 既存ドキュメントの更新基準

**Blazorガイド（blazor-guide-package/）:**
- アーキテクチャ変更時は必須
- 新パターン追加時は推奨
- バグ修正・typo修正は随時

**アーキテクチャ文書（architecture/）:**
- 基本方針変更時は必須
- 実装詳細の変更では不要

**AI指示書（ai-instructions/）:**
- AIの誤実装パターン発見時に追加
- 頻繁な更新は不要

**パターン集（patterns/）:**
- 該当機能の実装時に更新
- 未使用の場合は更新不要

---

## 🔄 ドキュメントのライフサイクル

### 作成 → 運用 → 削除の基準

**作成**:
1. 新機能・新パターン追加時
2. アーキテクチャ変更時
3. 複数の開発者が同じ質問をした時

**運用（更新）**:
1. 内容が古くなった時
2. 誤りを発見した時
3. より良い説明方法を発見した時

**削除**:
1. 一時的な作業記録（移行計画等）が完了した時
2. 他のドキュメントに統合された時
3. 該当機能が削除された時

### 削除判断のタイミング

**移行・リファクタリング完了時**:
- ✅ 移行計画・進捗文書 → 削除
- ✅ 作業サマリー → CHANGELOGに統合後削除

**機能削除時**:
- ✅ その機能固有のドキュメント → 削除
- ⚠️ アーキテクチャガイド → 「削除済み機能」として記録保持

---

## 📌 よくある質問

### Q1: 実装中のメモはどこに置くべきか？
**A**: docs/には置かない。ローカル環境またはコード内コメントで管理。

### Q2: 新しいアーキテクチャパターンを追加したい
**A**: まず`blazor-guide-package/docs/05_パターンカタログ一覧.md`に追加。必要に応じて新しい章を作成。

### Q3: このフォルダ構造を変更したい
**A**: まず`docs/README.md`（このファイル）の変更をレビューし、合意を得てから実施。

### Q4: Blazorガイドとarchitecture/の使い分けは？
**A**:
- **Blazorガイド**: 開発者向けの実装ガイド（How）
- **architecture/**: アーキテクトが定めた設計原則（Why/What）

---

## 📖 参考リンク

- **プロジェクトメインREADME**: [/README.md](../README.md)
- **Blazorガイド目次**: [blazor-guide-package/docs/00_README.md](blazor-guide-package/docs/00_README.md)
- **VSA厳格ルール**: [architecture/VSA-STRICT-RULES.md](architecture/VSA-STRICT-RULES.md)
- **AI実装ガイド**: [ai-instructions/README.md](ai-instructions/README.md)

---

**最終更新**: 2025-11-05
**バージョン**: 1.0.0
